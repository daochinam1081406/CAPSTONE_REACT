{"ast":null,"code":"var _jsxFileName = \"/Users/daochinam/Cybersoft/FrontEnd/CAPSTONE_REACT/CAPSTONE_REACT/src/modules/auth/pages/Signin.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Navigate, useSearchParams } from \"react-router-dom\";\nimport { signin } from \"../slices/authSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Signin() {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    defaultValues: {\n      taiKhoan: \"\",\n      matKhau: \"\"\n    },\n    mode: \"onSubmit\"\n  });\n  const [searchParams] = useSearchParams();\n  const {\n    currentUser,\n    isLoading,\n    error\n  } = useSelector(state => state.auth);\n  const dispatch = useDispatch();\n  const handleSignin = async values => {\n    try {\n      await dispatch(signin(values)).unwrap();\n      alert(\"Đăng nhập thành công\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handleError = errors => {\n    console.log(errors);\n  };\n  if (currentUser) {\n    // Nếu có thông tin đăng nhập của user => điều hướng về trang home\n    const url = searchParams.get(\"from\") || \"/\";\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: url,\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Signin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(handleSignin, handleError),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"T\\xE0i Kho\\u1EA3n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ...register(\"taiKhoan\", {\n            required: {\n              value: true,\n              message: \"Tài khoản không được để trống\"\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), errors.taiKhoan && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: errors.taiKhoan.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"M\\u1EADt Kh\\u1EA9u\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          ...register(\"matKhau\", {\n            required: {\n              value: true,\n              message: \"Mật khẩu không được để trống\"\n            },\n            pattern: {\n              value: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{8,}$/,\n              message: \"Mật khẩu phải có ít nhất 8 kí tự, gồm 1 kí tự hoa, 1 kí tự thường và 1 kí tự số\"\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), errors.matKhau && /*#__PURE__*/_jsxDEV(\"span\", {\n          children: errors.matKhau.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: isLoading,\n        children: \"\\u0110\\u0103ng Nh\\u1EADp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(Signin, \"ag8Fr1uG7Wz/7+X1HRQ+ibqBRyA=\", false, function () {\n  return [useForm, useSearchParams, useSelector, useDispatch];\n});\n_c = Signin;\nvar _c;\n$RefreshReg$(_c, \"Signin\");","map":{"version":3,"names":["React","useForm","useSelector","useDispatch","Navigate","useSearchParams","signin","jsxDEV","_jsxDEV","Signin","_s","register","handleSubmit","formState","errors","defaultValues","taiKhoan","matKhau","mode","searchParams","currentUser","isLoading","error","state","auth","dispatch","handleSignin","values","unwrap","alert","console","log","handleError","url","get","to","replace","fileName","_jsxFileName","lineNumber","columnNumber","children","onSubmit","required","value","message","pattern","disabled","_c","$RefreshReg$"],"sources":["/Users/daochinam/Cybersoft/FrontEnd/CAPSTONE_REACT/CAPSTONE_REACT/src/modules/auth/pages/Signin.jsx"],"sourcesContent":["import React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Navigate, useSearchParams } from \"react-router-dom\";\nimport { signin } from \"../slices/authSlice\";\n\nexport default function Signin() {\n  const {\n    register,\n    handleSubmit,\n    formState: { errors },\n  } = useForm({\n    defaultValues: {\n      taiKhoan: \"\",\n      matKhau: \"\",\n    },\n    mode: \"onSubmit\",\n  });\n\n  const [searchParams] = useSearchParams();\n\n  const { currentUser, isLoading, error } = useSelector((state) => state.auth);\n\n  const dispatch = useDispatch();\n\n  const handleSignin = async (values) => {\n    try {\n      await dispatch(signin(values)).unwrap();\n      alert(\"Đăng nhập thành công\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleError = (errors) => {\n    console.log(errors);\n  };\n\n  if (currentUser) {\n    // Nếu có thông tin đăng nhập của user => điều hướng về trang home\n    const url = searchParams.get(\"from\") || \"/\";\n    return <Navigate to={url} replace />;\n  }\n\n  return (\n    <div>\n      <h1>Signin</h1>\n\n      <form onSubmit={handleSubmit(handleSignin, handleError)}>\n        <div>\n          <label>Tài Khoản</label>\n          <input\n            {...register(\"taiKhoan\", {\n              required: {\n                value: true,\n                message: \"Tài khoản không được để trống\",\n              },\n            })}\n          />\n          {errors.taiKhoan && <span>{errors.taiKhoan.message}</span>}\n        </div>\n\n        <div>\n          <label>Mật Khẩu</label>\n          <input\n            {...register(\"matKhau\", {\n              required: {\n                value: true,\n                message: \"Mật khẩu không được để trống\",\n              },\n              pattern: {\n                value: /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d).{8,}$/,\n                message:\n                  \"Mật khẩu phải có ít nhất 8 kí tự, gồm 1 kí tự hoa, 1 kí tự thường và 1 kí tự số\",\n              },\n            })}\n          />\n          {errors.matKhau && <span>{errors.matKhau.message}</span>}\n        </div>\n\n        {error && <p>{error}</p>}\n\n        <button disabled={isLoading}>Đăng Nhập</button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}